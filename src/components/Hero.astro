---
import { waLink } from '../config/site';

const buyHref = waLink('Hola, quiero comprar Flujo TV. ¿Qué plan me recomiendan?');
const waHref = waLink('Hola, quiero validar si funciona en mi equipo (Demo).');

const backgrounds = [
  '/bg-soccer.png', 
  '/bg-cinema.png',
  '/hero1-colombia.jpg'
];
---

<section id="inicio" class="relative min-h-[90vh] flex items-center justify-center overflow-hidden bg-[#050B14]">
  
  <!-- BACKGROUND CAROUSEL -->
  <div class="absolute inset-0 z-0">
    <div id="hero-carousel" class="relative w-full h-full">
      {backgrounds.map((bg, index) => (
        <div 
          class={`absolute inset-0 transition-opacity duration-[2000ms] ease-in-out ${index === 0 ? 'opacity-100' : 'opacity-0'} hero-slide`}
          style={`background-image: url('${bg}'); background-size: cover; background-position: center;`}
        >
          <div class="absolute inset-0 bg-gradient-to-t from-[#050B14] via-[#050B14]/80 to-[#050B14]/40"></div>
          <div class="absolute inset-0 bg-black/40 mix-blend-multiply"></div>
        </div>
      ))}
    </div>
  </div>

  <!-- FLOATING FLUID OBJECTS -->
  <div class="absolute inset-0 pointer-events-none overflow-hidden select-none">
    <img 
      src="/float-ball.png" 
      class="absolute top-[10%] right-[5%] w-[300px] md:w-[500px] opacity-60 mix-blend-screen animate-float-slow object-contain"
      alt=""
    />
    <div class="absolute inset-0 bg-[url('/noise.png')] opacity-[0.05] mix-blend-overlay"></div>
  </div>

  <div class="relative z-10 container mx-auto px-4 grid lg:grid-cols-12 gap-8 items-center pt-20">
    
    <!-- CENTERED CONTENT -->
    <div class="lg:col-span-8 lg:col-start-3 text-center space-y-8">
      
      <!-- BADGE -->
      <div class="inline-flex items-center gap-3 px-6 py-2 rounded-full border border-emerald-500/30 bg-emerald-500/10 backdrop-blur-xl animate-fade-in-up">
        <span class="relative flex h-3 w-3">
          <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"></span>
          <span class="relative inline-flex rounded-full h-3 w-3 bg-emerald-500"></span>
        </span>
        <span class="text-sm md:text-base font-bold text-white tracking-wide">
          Magis ahora es <span class="text-emerald-400 font-black">FLUJO TV</span>
        </span>
      </div>

      <!-- MAIN TITLE (Fixed Clipping) -->
      <div class="overflow-visible px-4">
        <h1 class="text-5xl sm:text-7xl md:text-8xl font-black text-white uppercase italic tracking-tighter leading-[0.9] drop-shadow-2xl animate-fade-in-up pr-12 pb-2" style="animation-delay: 0.1s">
          El Gigante <br/>
          <span class="text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 via-blue-500 to-purple-500 text-glow-cyber py-2 block">
            FLUJO TV
          </span>
        </h1>
      </div>

      <p class="text-lg sm:text-xl text-blue-100/70 max-w-2xl mx-auto font-medium leading-relaxed animate-fade-in-up" style="animation-delay: 0.2s">
        La evolución definitiva del entretenimiento. Disfruta de la mejor televisión premium en alta definición, sin contratos y con soporte garantizado.
      </p>

      <!-- BUTTONS -->
      <div class="flex flex-col sm:flex-row gap-5 justify-center items-center pt-6 animate-fade-in-up" style="animation-delay: 0.3s">
        <a 
          href={buyHref} 
          class="relative px-10 py-5 bg-gradient-to-r from-blue-600 to-blue-800 text-white font-black uppercase tracking-widest text-sm rounded-full shadow-[0_0_40px_rgba(37,99,235,0.4)] hover:shadow-[0_0_60px_rgba(37,99,235,0.6)] hover:scale-105 transition-all duration-300"
        >
          Comprar Ahora
        </a>
        <a 
          href={waHref} 
          class="px-10 py-5 bg-white/5 border border-white/10 text-white font-bold uppercase tracking-widest text-sm rounded-full hover:bg-white/10 hover:border-white/30 transition-all backdrop-blur-md"
        >
          Soporte / Demo
        </a>
      </div>

      <!-- FEATURES -->
      <div class="flex flex-wrap items-center justify-center gap-6 pt-10 text-sm font-bold text-white/40 animate-fade-in-up" style="animation-delay: 0.4s">
        <div class="flex items-center gap-2">
           <svg class="w-5 h-5 text-emerald-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
           Activación en 5 min
        </div>
        <div class="flex items-center gap-2">
           <svg class="w-5 h-5 text-emerald-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
           Sin contratos
        </div>
      </div>

    </div>

  </div>
</section>

<script>
  const slides = document.querySelectorAll('.hero-slide');
  let currentSlide = 0;

  function nextSlide() {
    if (!slides.length) return;
    slides[currentSlide].classList.remove('opacity-100');
    slides[currentSlide].classList.add('opacity-0');
    currentSlide = (currentSlide + 1) % slides.length;
    slides[currentSlide].classList.remove('opacity-0');
    slides[currentSlide].classList.add('opacity-100');
  }

  setInterval(nextSlide, 5000);
</script>

<style>
  .text-glow-cyber {
    text-shadow: 0 0 50px rgba(59,130,246,0.5);
  }
  @keyframes fade-in-up {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .animate-fade-in-up {
    animation: fade-in-up 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    opacity: 0;
  }
  @keyframes float-slow {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-30px) rotate(5deg); }
  }
  .animate-float-slow {
    animation: float-slow 10s ease-in-out infinite;
  }
</style>
